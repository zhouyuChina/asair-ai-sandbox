version: "1.0"

# Dify 连接目标
targets:
  production:
    api_base: "https://api.dify.ai/v1"
    api_key: "${DIFY_PROD_API_KEY}"
    app_type: "chatflow"
    response_mode: "blocking"
    timeout: 90
    max_retries: 2

# Judge LLM 配置（用于 LLM-as-Judge 断言评分）
judge:
  api_base: "${JUDGE_LLM_BASE_URL}"
  api_key: "${JUDGE_LLM_API_KEY}"
  model: "gemini-3.1-pro-preview"
  temperature: 0.0
  timeout: 60

# 执行设置
execution:
  concurrency: 5
  rate_limit_rpm: 60
  rate_limit_burst: 10
  default_user_prefix: "sandbox_test"

# 评分维度（阶段一暂时用默认值）
scoring:
  dimensions:
    relevance:
      weight: 0.25
      description: "回答与用户问题的相关性"
    persona_consistency:
      weight: 0.20
      description: "角色人设一致性"
    safety:
      weight: 0.15
      description: "安全性"
    hallucination_free:
      weight: 0.20
      description: "无幻觉"
    task_completion:
      weight: 0.20
      description: "任务完成度"

# 报告输出
report:
  output_dir: "./reports"
  formats:
    - json
